{
  "Function Declaration": {
    "prefix": "fn",
    "body": [
      "fn ${1:name}(${2:params}) ${3:-> ${4:ReturnType} }{",
      "    ${0}",
      "}"
    ],
    "description": "Declare a new function"
  },
  "Main Function": {
    "prefix": "main",
    "body": [
      "fn main() {",
      "    ${0}",
      "}"
    ],
    "description": "Entry point function"
  },
  "Let Binding": {
    "prefix": "let",
    "body": "let ${1:name}: ${2:Type} = ${0};",
    "description": "Typed variable binding"
  },
  "Let Destructure": {
    "prefix": "letd",
    "body": "let (${1:a}, ${2:b}): (${3:Type1}, ${4:Type2}) = ${0};",
    "description": "Destructuring let binding"
  },
  "Match Expression": {
    "prefix": "match",
    "body": [
      "match ${1:expr} {",
      "    Left(${2:left_val}: ${3:LeftType}) => ${4:left_expr},",
      "    Right(${5:right_val}: ${6:RightType}) => ${0:right_expr},",
      "}"
    ],
    "description": "Match on Either type"
  },
  "Match Option": {
    "prefix": "matcho",
    "body": [
      "match ${1:option_val} {",
      "    Some(${2:val}: ${3:Type}) => ${4:some_expr},",
      "    None => ${0:none_expr},",
      "}"
    ],
    "description": "Match on Option type"
  },
  "Assert": {
    "prefix": "assert",
    "body": "assert!(${0:condition});",
    "description": "Assert macro"
  },
  "Jet Call": {
    "prefix": "jet",
    "body": "jet::${1:jet_name}(${0})",
    "description": "Call a jet function"
  },
  "Witness": {
    "prefix": "witness",
    "body": "witness::${0:WITNESS_NAME}",
    "description": "Reference a witness value"
  },
  "Param": {
    "prefix": "param",
    "body": "param::${0:PARAM_NAME}",
    "description": "Reference a parameter"
  },
  "Signature Verification": {
    "prefix": "checksig",
    "body": [
      "fn checksig(pk: Pubkey, sig: Signature) {",
      "    let msg: u256 = jet::sig_all_hash();",
      "    jet::bip_0340_verify((pk, msg), sig);",
      "}"
    ],
    "description": "BIP-340 signature verification helper"
  },
  "SHA256 Hash": {
    "prefix": "sha256",
    "body": [
      "fn sha256(data: u256) -> u256 {",
      "    let ctx: Ctx8 = jet::sha_256_ctx_8_init();",
      "    let ctx: Ctx8 = jet::sha_256_ctx_8_add_32(ctx, data);",
      "    jet::sha_256_ctx_8_finalize(ctx)",
      "}"
    ],
    "description": "SHA-256 hash function"
  },
  "Check Lock Height": {
    "prefix": "lockheight",
    "body": [
      "let timeout: Height = ${1:1000};",
      "jet::check_lock_height(timeout);"
    ],
    "description": "Time lock by block height"
  },
  "Check Lock Time": {
    "prefix": "locktime",
    "body": [
      "let timeout: Time = ${1:1700000000};",
      "jet::check_lock_time(timeout);"
    ],
    "description": "Time lock by Unix timestamp"
  },
  "Array Fold": {
    "prefix": "fold",
    "body": "let ${1:result}: ${2:AccType} = array_fold::<${3:fold_fn}, ${4:N}>(${5:arr}, ${0:init});",
    "description": "Fold over an array"
  },
  "For While Loop": {
    "prefix": "forwhile",
    "body": "let ${1:result}: ${2:Type} = for_while::<${3:N}>(${4:init}, |${5:acc}: ${2:Type}| { ${0} });",
    "description": "Bounded loop with early exit"
  },
  "Array Declaration": {
    "prefix": "arr",
    "body": "let ${1:arr}: [${2:Type}; ${3:N}] = [${0}];",
    "description": "Fixed-size array"
  },
  "P2PK Template": {
    "prefix": "p2pk",
    "body": [
      "/*",
      " * Pay to Public Key",
      " * Coins move when signed by the specified public key.",
      " */",
      "fn main() {",
      "    jet::bip_0340_verify((param::${1:PUBLIC_KEY}, jet::sig_all_hash()), witness::${2:SIGNATURE})",
      "}"
    ],
    "description": "Pay-to-public-key contract template"
  },
  "File Header": {
    "prefix": "header",
    "body": [
      "/*",
      " * ${1:CONTRACT_NAME}",
      " *",
      " * ${2:Description of what this contract does.}",
      " */",
      ""
    ],
    "description": "File header comment block"
  }
}
